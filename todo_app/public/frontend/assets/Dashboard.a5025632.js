import{c as x,a as T,L as A,C as L,b as a,d as e,F as p,r as m,e as _,w as h,u as r,f as S,o as n,n as g,t as l,g as N,h as j,i as y,j as F}from"./index.d8a11648.js";import{C as V}from"./clock.8e93b602.js";import{C as I}from"./circle-check-big.beb7c6f1.js";const O={class:"p-8"},U={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},P={class:"flex items-center justify-between"},z={class:"text-sm text-gray-600 mb-1"},E={class:"text-3xl font-bold text-gray-900"},R={class:"text-xs text-gray-500 mt-2"},G={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},H={class:"bg-white rounded-lg shadow-sm p-6"},W={class:"flex items-center justify-between mb-4"},$={key:0,class:"text-center py-8"},q={key:1,class:"space-y-3"},J=["checked"],K={class:"flex-1"},M={class:"text-sm font-medium text-gray-900"},Q={class:"text-xs text-gray-500"},X={key:2,class:"text-center py-8 text-gray-500"},Y={class:"bg-white rounded-lg shadow-sm p-6"},Z={class:"flex items-center justify-between mb-4"},ee={key:0,class:"text-center py-8"},te={key:1,class:"space-y-3"},se={class:"w-12 h-12 rounded-lg bg-blue-50 flex flex-col items-center justify-center"},oe={class:"text-xs text-blue-600 font-medium"},ne={class:"text-lg font-bold text-blue-600"},ae={class:"flex-1"},le={class:"text-sm font-medium text-gray-900"},re={class:"text-xs text-gray-500"},ie={key:2,class:"text-center py-8 text-gray-500"},ge={__name:"Dashboard",setup(ce){const i=x({doctype:"Todo Item",fields:["name","task_title","status","priority","creation"],orderBy:"creation desc",pageLength:10,auto:!0}),c=x({doctype:"Appointment",fields:["name","customer_name","appointment_date","appointment_time","status"],filters:{appointment_date:[">=",new Date().toISOString().split("T")[0]]},orderBy:"appointment_date asc",pageLength:10,auto:!0}),b=T(()=>{const o=i.data||[],s=o.length,u=o.filter(d=>d.status==="Open").length,t=o.filter(d=>d.status==="Completed").length,D=o.filter(d=>d.status==="In Progress").length,B=(c.data||[]).length;return[{label:"Total Tasks",value:s,change:"+12% from last week",color:"#3B82F6",icon:A},{label:"Open Tasks",value:u,change:`${D} in progress`,color:"#F59E0B",icon:V},{label:"Completed",value:t,change:"Great progress!",color:"#10B981",icon:I},{label:"Appointments",value:B,change:"Next 30 days",color:"#8B5CF6",icon:L}]});function f(o){return{Open:"bg-blue-100 text-blue-700","In Progress":"bg-orange-100 text-orange-700",Completed:"bg-green-100 text-green-700"}[o]||"bg-gray-100 text-gray-700"}function v(o){return new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"})}function k(o){return new Date(o).toLocaleDateString("en-US",{weekday:"short"}).toUpperCase()}function w(o){return new Date(o).getDate()}function C(o){return o||""}return(o,s)=>{const u=S("router-link");return n(),a("div",O,[s[6]||(s[6]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Dashboard"),e("p",{class:"text-gray-600 mt-1"},"Welcome back! Here's your overview")],-1)),e("div",U,[(n(!0),a(p,null,m(b.value,t=>(n(),a("div",{key:t.label,class:"bg-white rounded-lg shadow-sm p-6 border-l-4",style:g({borderColor:t.color})},[e("div",P,[e("div",null,[e("p",z,l(t.label),1),e("p",E,l(t.value),1),e("p",R,l(t.change),1)]),e("div",{class:"w-12 h-12 rounded-full flex items-center justify-center",style:g({backgroundColor:t.color+"20"})},[(n(),N(j(t.icon),{style:g({color:t.color}),class:"w-6 h-6"},null,8,["style"]))],4)])],4))),128))]),e("div",G,[e("div",H,[e("div",W,[s[1]||(s[1]=e("h2",{class:"text-xl font-bold text-gray-900"},"Recent Tasks",-1)),_(u,{to:{name:"Tasks"},class:"text-sm text-blue-600 hover:text-blue-700"},{default:h(()=>[...s[0]||(s[0]=[y(" View All \u2192 ",-1)])]),_:1})]),r(i).loading?(n(),a("div",$,[...s[2]||(s[2]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):r(i).data&&r(i).data.length?(n(),a("div",q,[(n(!0),a(p,null,m(r(i).data.slice(0,5),t=>(n(),a("div",{key:t.name,class:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50"},[e("input",{type:"checkbox",checked:t.status==="Completed",class:"w-5 h-5 rounded"},null,8,J),e("div",K,[e("p",M,l(t.task_title),1),e("p",Q,l(v(t.creation)),1)]),e("span",{class:F(["px-2 py-1 text-xs rounded-full",f(t.status)])},l(t.status),3)]))),128))])):(n(),a("div",X," No tasks yet "))]),e("div",Y,[e("div",Z,[s[4]||(s[4]=e("h2",{class:"text-xl font-bold text-gray-900"},"Upcoming Appointments",-1)),_(u,{to:{name:"Appointments"},class:"text-sm text-blue-600 hover:text-blue-700"},{default:h(()=>[...s[3]||(s[3]=[y(" View All \u2192 ",-1)])]),_:1})]),r(c).loading?(n(),a("div",ee,[...s[5]||(s[5]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):r(c).data&&r(c).data.length?(n(),a("div",te,[(n(!0),a(p,null,m(r(c).data.slice(0,5),t=>(n(),a("div",{key:t.name,class:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50"},[e("div",se,[e("span",oe,l(k(t.appointment_date)),1),e("span",ne,l(w(t.appointment_date)),1)]),e("div",ae,[e("p",le,l(t.customer_name||"Appointment"),1),e("p",re,l(C(t.appointment_time)),1)])]))),128))])):(n(),a("div",ie," No upcoming appointments "))])])])}}};export{ge as default};
